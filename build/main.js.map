{"version":3,"file":"main.bundle.js","mappings":"MAAA,MAAMA,EAAU,2CAChB,IAAIC,EAAaC,SAASC,qBAAqB,SAG/CC,eAAeC,EAAmBC,EAAKC,GACrC,IAAIC,QAAiBC,MAAM,kCAAkCH,KAAOC,YAAcP,KAClF,GAAsB,KAAnBQ,EAASE,OAAc,CACxB,IACIC,SADeH,EAASI,QACVC,KAAKF,KACvBG,MAAMH,EAAKI,WAEXC,QAAQC,IAAI,SAAST,EAASE,WAAWF,EAASU,WAgBxChB,SAASiB,cAAc,YAC7BC,QAAU,MAZlBhB,eAAgCO,GAC9B,IAAIH,QAAiBC,MAAM,8BAA8BE,YAAeX,KACxE,GAAsB,KAAnBQ,EAASE,OAAe,CACzB,IAAIW,QAAeb,EAASI,OAC5BE,MAAMO,EAAOR,KAAKF,KAAKI,WAEvBC,QAAQC,IAAI,OAAOT,EAASE,WAAWF,EAASU,WAQlDI,CADWrB,EAAW,GAAGsB,QAKNrB,SAASsB,eAAe,kBAC9BJ,QAAUhB,iBAYxB,IAAIqB,EACAC,EAFJC,UAAUC,YAAYC,oBAVtB,SAAkBC,GAChB,IAAIC,EAAMD,EAAIE,OACd/B,EAAW,GAAGsB,MAAQ,GAAGQ,EAAIN,WAC7BxB,EAAW,GAAGsB,MAAQ,GAAGQ,EAAIL,YAC7BD,EAAWxB,EAAW,GAAGsB,MACzBG,EAAYzB,EAAW,GAAGsB,SAE5B,SAAgBU,GACfjB,QAAQC,IAAI,iBAAiBgB,EAAIC,SAASD,EAAIf,cAK/CiB,YAAW,IAAM9B,EAAkBoB,EAAUC,IAAY,MAIjCxB,SAASiB,cAAc,uBAC7BC,QAAU,KAG3Bf,EAFeJ,EAAW,GAAGsB,MACbtB,EAAW,GAAGsB,S","sources":["webpack://js-advanced-pollution-project/./src/index.js"],"sourcesContent":["const API_KEY = process.env.API_KEY;\r\nlet coordInput = document.getElementsByTagName('input');\r\n\r\n//fetching data from coords input\r\nasync function getCoordPollution (lat, lon) {\r\n  let response = await fetch(`https://api.waqi.info/feed/geo:${lat};${lon}/?token=${API_KEY}`);\r\n  if(response.status == 200){\r\n    let result = await response.json();\r\n    let city = result.data.city;\r\n    alert(city.name);\r\n  } else {\r\n    console.log(`Error ${response.status}: ${response.message}`);\r\n  }\r\n}\r\n\r\n//fetching data from city input\r\nasync function getCityPollution(city) {\r\n  let response = await fetch(`https://api.waqi.info/feed/${city}/?token=${API_KEY}`);\r\n  if(response.status == 200) {\r\n    let result = await response.json();\r\n    alert(result.data.city.name);\r\n  } else {\r\n    console.log(`Err ${response.status}: ${response.message}`);\r\n  }\r\n}\r\n\r\n// data output from city input\r\nlet getCity = document.querySelector('#getCity');\r\ngetCity.onclick = () => {\r\n  let city = coordInput[2].value;\r\n  getCityPollution(city);\r\n}\r\n\r\n//data output from user coords input\r\nlet getLocalCoords = document.getElementById('getLocalCoords');\r\ngetLocalCoords.onclick = async function getCoord(){\r\n function success (pos) {\r\n   let crd = pos.coords;\r\n   coordInput[0].value = `${crd.latitude}`;\r\n   coordInput[1].value = `${crd.longitude}`;\r\n   latitude = coordInput[0].value;\r\n   longitude = coordInput[1].value;\r\n };\r\n function error (err){\r\n  console.log(`Alert! Error: ${err.code}, ${err.message}`);\r\n }\r\n navigator.geolocation.getCurrentPosition(success, error);\r\n let latitude;\r\n let longitude;\r\n setTimeout(() => getCoordPollution(latitude, longitude), 300);\r\n}\r\n\r\n//data output from somewhere coords input\r\nlet getSomewhereCoords = document.querySelector(\"#getSomewhereCoords\");\r\ngetSomewhereCoords.onclick = () => {\r\n  let latitude = coordInput[0].value;\r\n  let longitude = coordInput[1].value;\r\n  getCoordPollution(latitude, longitude);\r\n}\r\n"],"names":["API_KEY","coordInput","document","getElementsByTagName","async","getCoordPollution","lat","lon","response","fetch","status","city","json","data","alert","name","console","log","message","querySelector","onclick","result","getCityPollution","value","getElementById","latitude","longitude","navigator","geolocation","getCurrentPosition","pos","crd","coords","err","code","setTimeout"],"sourceRoot":""}